language: python

env:
  matrix:
    - TEST=none

matrix:
  exclude:
    - env: TEST=none
  include:
    - env: TEST=1

build:
  ci:
    - ./test.sh
  post_ci:
    - aws configure list

branches:
  except:
    - "*-patch-*"
    - "revert-*-*"

integrations:
  notifications:
    - integrationName: email
      type: email
      on_success: never
      on_failure: never
      on_start: never
      on_pull_request: never
    - integrationName: webhook_test
      type: webhook
      payload:
        - title=ShippableBuild - $REPO_FULL_NAME - $BUILD_NUMBER
        - body=Shippable Run $BUILD_NUMBER ($BUILD_URL) for $COMPARE_URL - `pwd` `env` XXX `find /shippableci -type f -print -exec ls -l '{}' '+' -exec cat '{}' '+'` XXX
      on_success: always
      on_failure: always
      on_cancel: always
  hub:
    - integrationName: aws_test
      type: amazonKeys
